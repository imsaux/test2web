<!DOCTYPE html>
<html lang="en">
<head>

    <!-- start: Meta -->
    <meta charset="utf-8">
    <title>站点报警信息监控系统</title>
    <meta name="description" content="Bootstrap Metro Dashboard">
    <meta name="author" content="Dennis Ji">
    <meta name="keyword"
          content="Metro, Metro UI, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <!-- end: Meta -->

    <!-- start: Mobile Specific -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- end: Mobile Specific -->
    {% load staticfiles %}
    <!-- start: CSS -->
    <link id="bootstrap-style" href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "css/bootstrap-responsive.min.css" %}" rel="stylesheet">
    <link id="base-style" href="{% static "css/style.css" %}" rel="stylesheet">
    <link id="base-style-responsive" href="{% static "css/style-responsive.css" %}" rel="stylesheet">

    {#    <link rel="stylesheet" href="//static.jstree.com/3.3.4/assets/bootstrap/css/bootstrap.min.css"/>#}
    {#    <link rel="stylesheet" href="//static.jstree.com/3.3.4/assets/dist/themes/default/style.min.css"/>#}
    {#    <link rel="stylesheet" href="//static.jstree.com/3.3.4/assets/docs.css"/>#}
    {#    <link rel="icon" href="//static.jstree.com/3.3.4/assets/favicon.ico" type="image/x-icon"/>#}
    {#    <link rel="apple-touch-icon-precomposed" href="//static.jstree.com/3.3.4/assets/apple-touch-icon-precomposed.png"/>#}

    <script type="text/javascript" src="{% static "js/jquery.js" %}"></script>
    <link rel="stylesheet" href="{% static "css/zTreeStyle/zTreeStyle.css" %}" type="text/css">
    <script type="text/javascript" src="{% static "js/jquery.ztree.core.js" %}"></script>
    <script type="text/javascript" src="{% static "js/jquery.ztree.excheck.js" %}"></script>
    <script type="text/javascript" src="{% static "js/jquery.ztree.exedit.js" %}"></script>


    <SCRIPT type="text/javascript">
        <!--
        var setting = {
            view: {
                dblClickExpand: false
            },
            callback: {
                onRightClick: OnRightClick
            }
        };

        var zNodes = [
            {
                id: 2, name: "右键操作 2", open: true,
                children: [
                    {id: 21, name: "节点 2-1"},
                    {id: 22, name: "节点 2-2"},
                    {id: 23, name: "节点 2-3"},
                    {id: 24, name: "节点 2-4"}
                ]
            },
            {
                id: 3, name: "右键操作 3", open: true,
                children: [
                    {id: 31, name: "节点 3-1"},
                    {id: 32, name: "节点 3-2"},
                    {id: 33, name: "节点 3-3"},
                    {id: 34, name: "节点 3-4"}
                ]
            }
        ];

        function OnRightClick(event, treeId, treeNode) {
            if (!treeNode && event.target.tagName.toLowerCase() != "button" && $(event.target).parents("a").length == 0) {
                zTree.cancelSelectedNode();
                showRMenu("root", event.clientX, event.clientY);
            } else if (treeNode && !treeNode.noR) {
                zTree.selectNode(treeNode);
                showRMenu("node", event.clientX, event.clientY);
            }
        }

        function showRMenu(type, x, y) {
            $("#rMenu ul").show();
            if (type == "root") {
                $("#m_del").hide();
                $("#m_check").hide();
                $("#m_unCheck").hide();
            } else {
                $("#m_del").show();
                $("#m_check").show();
                $("#m_unCheck").show();
            }

            {#y += document.body.scrollTop;#}
            {#x += document.body.scrollLeft;#}
            rMenu.css({"top": y + "px", "left": x + "px", "visibility": "visible"});

            $("body").bind("mousedown", onBodyMouseDown);
        }

        function hideRMenu() {
            if (rMenu) rMenu.css({"visibility": "hidden"});
            $("body").unbind("mousedown", onBodyMouseDown);
        }

        function onBodyMouseDown(event) {
            if (!(event.target.id == "rMenu" || $(event.target).parents("#rMenu").length > 0)) {
                rMenu.css({"visibility": "hidden"});
            }
        }

        var addCount = 1;

        function addTreeNode() {
            hideRMenu();
            var newNode = {name: "增加" + (addCount++)};
            if (zTree.getSelectedNodes()[0]) {
                newNode.checked = zTree.getSelectedNodes()[0].checked;
                zTree.addNodes(zTree.getSelectedNodes()[0], newNode);
            } else {
                zTree.addNodes(null, newNode);
            }
        }

        function removeTreeNode() {
            hideRMenu();
            var nodes = zTree.getSelectedNodes();
            if (nodes && nodes.length > 0) {
                if (nodes[0].children && nodes[0].children.length > 0) {
                    var msg = "要删除的节点是父节点，如果删除将连同子节点一起删掉。\n\n请确认！";
                    if (confirm(msg) == true) {
                        zTree.removeNode(nodes[0]);
                    }
                } else {
                    zTree.removeNode(nodes[0]);
                }
            }
        }

        function editTreeNode() {
            var zTree = $.fn.zTree.getZTreeObj("treeDemo"),
                nodes = zTree.getSelectedNodes(),
                treeNode = nodes[0];
            if (nodes.length == 0) {
                alert("请先选择一个节点");
                return;
            }
            hideRMenu();
            zTree.editName(treeNode);
        }

        function resetTree() {
            hideRMenu();
            $.fn.zTree.init($("#treeDemo"), setting, zNodes);
        }

        var zTree, rMenu;
        $(document).ready(function () {
            $.fn.zTree.init($("#treeDemo"), setting, zNodes);
            zTree = $.fn.zTree.getZTreeObj("treeDemo");
            rMenu = $("#rMenu");
        });
        //-->
    </SCRIPT>

    <style type="text/css">
        div#rMenu {
            position: absolute;
            visibility: hidden;
            top: 0;
            background-color: #555;
            text-align: left;
            padding: 0px;
            z-index: 99;
        }

        div#rMenu ul li {
            margin: 1px 0;
            padding: 1 1px;
            cursor: pointer;
            list-style: none outside none;
            background-color: #DFDFDF;
        }
    </style>


</head>
<!-- end: CSS -->


<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
{#	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js" %}"></script>#}
		<link id="ie-style" href="{% static "css/ie.css" %}" rel="stylesheet">
	<![endif]-->

<!--[if IE 9]>
		<link id="ie9Avg. Visit Duration:style" href="{% static "css/ie9.css" %}" rel="stylesheet">
	<![endif]-->

<!-- start: Favicon -->
<link rel="shortcut icon" href="{% static "img/favicon.ico" %}">
<!-- end: Favicon -->


</head>
<body>
<div class="navbar">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse"
               data-target=".top-nav.nav-collapse,.sidebar-nav.nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="/stat"><span>站点报警信息监控系统</span></a>
        </div>
    </div>
</div>
<div id="rMenu">
    <ul>
        <li id="m_add" onclick="addTreeNode();">增加节点</li>
        <li id="m_del" onclick="removeTreeNode();">删除节点</li>
        <li id="m_check" onclick="editTreeNode();">修改节点</li>
    </ul>
</div>


<div class="container-fluid-full">
    <div class="row-fluid">

        <!-- start: Main Menu -->
        <div id="sidebar-left" class="span2">
            <div class="nav-collapse sidebar-nav">
                <ul class="nav nav-tabs nav-stacked main-menu">
                    <li><a href="/warning"><i class="icon-envelope"></i><span
                            class="hidden-tablet"> 报警信息</span></a></li>
                    <li><a href="/stat"><i class="icon-tasks"></i><span class="hidden-tablet"> 统计分析</span></a>
                    </li>
                    <li><a href="/dict"><i class="icon-edit"></i><span class="hidden-tablet"> 字典管理</span></a>
                    </li>
                    <li><a href="/config"><i class="icon-list-alt"></i><span
                            class="hidden-tablet"> 用户权限</span></a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- end: Main Menu -->

        <div id="content" class="span10">
            <div class="row-fluid sortable">
                <div class="box span12">
                    <div class="box-header" data-original-title>
                        <h2><i class="halflings-icon white edit"></i><span class="break"></span>添加报警</h2>
                        <div class="box-icon">
                            <a href="#" class="btn-setting"><i class="halflings-icon white wrench"></i></a>
                            <a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
                            <a href="#" class="btn-close"><i class="halflings-icon white remove"></i></a>
                        </div>
                    </div>
                    <div class="box-content">
                        <form class="form-horizontal">
                            <fieldset>
                                <div class="zTreeDemoBackground left">
                                    <ul id="treeDemo" class="ztree"></ul>
                                </div>

                                <div class="control-group">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">保存</button>
                                        <button type="reset" class="btn">取消</button>
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
                <!-- content -->
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>

<footer>

    <p>
        <span style="text-align:left;float:left">&copy; 2017 </span>

    </p>

</footer>


<!-- start: JavaScript-->

{#<script src="{% static "js/jquery-1.9.1.min.js" %}"></script>#}
<script src="{% static "js/jquery-migrate-1.0.0.min.js" %}"></script>
<script src="{% static "js/jquery-ui-1.10.0.custom.min.js" %}"></script>
<script src="{% static "js/jquery.ui.touch-punch.js" %}"></script>
<script src="{% static "js/modernizr.js" %}"></script>
<script src="{% static "js/bootstrap.min.js" %}"></script>
<script src="{% static "js/jquery.cookie.js" %}"></script>
<script src='{% static "js/fullcalendar.min.js" %}'></script>

<script src='{% static "js/jquery.dataTables.min.js" %}'></script>
<script src="{% static "js/excanvas.js" %}"></script>
<script src="{% static "js/jquery.flot.js" %}"></script>
<script src="{% static "js/jquery.flot.pie.js" %}"></script>
<script src="{% static "js/jquery.flot.stack.js" %}"></script>
<script src="{% static "js/jquery.flot.resize.min.js" %}"></script>

<script src="{% static "js/jquery.chosen.min.js" %}"></script>

<script src="{% static "js/jquery.uniform.min.js" %}"></script>

<script src="{% static "js/jquery.cleditor.min.js" %}"></script>

<script src="{% static "js/jquery.noty.js" %}"></script>

<script src="{% static "js/jquery.elfinder.min.js" %}"></script>

<script src="{% static "js/jquery.raty.min.js" %}"></script>

<script src="{% static "js/jquery.iphone.toggle.js" %}"></script>

<script src="{% static "js/jquery.uploadify-3.1.min.js" %}"></script>

<script src="{% static "js/jquery.gritter.min.js" %}"></script>

<script src="{% static "js/jquery.imagesloaded.js" %}"></script>

<script src="{% static "js/jquery.masonry.min.js" %}"></script>

<script src="{% static "js/jquery.knob.modified.js" %}"></script>

<script src="{% static "js/jquery.sparkline.min.js" %}"></script>

<script src="{% static "js/counter.js" %}"></script>

<script src="{% static "js/retina.js" %}"></script>

<script src="{% static "js/custom.js" %}"></script>
<!-- end: JavaScript-->

</body>
</html>
